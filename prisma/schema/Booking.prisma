model Booking {
    id            String        @id @default(uuid())
    tourId        String
    touristId     String
    guideId       String
    status        BookingStatus @default(PENDING)
    scheduledAt   DateTime
    price         Int
    paymentStatus PaymentStatus
    createdAt     DateTime      @default(now())
    updatedAt     DateTime      @updatedAt

    tour    Tour    @relation(fields: [tourId], references: [id], onDelete: Cascade)
    tourist Tourist @relation(fields: [touristId], references: [id])
    guide   Guide   @relation(fields: [guideId], references: [id], onDelete: Cascade)

    payment Payment?
}

model Payment {
    id                 String        @id @default(uuid())
    bookingId          String        @unique
    booking            Booking       @relation(fields: [bookingId], references: [id], onDelete: Cascade)
    status             PaymentStatus @default(PENDING)
    price              Int           @default(0)
    paymentGatewayData Json?
    createdAt          DateTime      @default(now())
    updatedAt          DateTime      @updatedAt
}
