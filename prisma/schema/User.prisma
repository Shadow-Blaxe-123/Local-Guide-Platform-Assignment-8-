model User {
    id              String   @id @default(uuid())
    email           String   @unique
    password        String
    name            String
    pic             String?
    bio             String?
    languagesSpoken String[] @default(["English"])
    contactNumber   String?

    role      Role     @default(TOURIST)
    isDeleted Boolean  @default(false)
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
    admin     Admin?
    guide     Guide?
    tourist   Tourist?

    @@map("users")
}

model Tourist {
    id                String   @id @default(uuid())
    userId            String   @unique
    travelPreferences String[]

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    user     User      @relation(fields: [userId], references: [id], onDelete: Cascade)
    reviews  Review[]
    bookings Booking[]

    @@map("tourists")
}

model Admin {
    id        String   @id @default(uuid())
    userId    String   @unique
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    user User @relation(fields: [userId], references: [id], onDelete: Cascade)

    @@map("admins")
}

model Guide {
    id     String @id @default(uuid())
    userId String @unique

    expertise String[]
    dailyRate Float?
    earnings  Float    @default(0)

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    user     User      @relation(fields: [userId], references: [id], onDelete: Cascade)
    tour     Tour[]
    reviews  Review[]
    bookings Booking[]

    @@map("guides")
}
